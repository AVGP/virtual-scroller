<html>

<head>
  <title>Scrolling</title>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">

  <style>
    body {
      font-family: Roboto, Helvetica, sans-serif;
      display: flex;
      flex-direction: column;
    }

    label {
      margin: 10px 0;
    }

    input {
      width: 50px;
    }

    virtual-scroller {
      flex: 1;
      height: 100%;
      box-sizing: border-box;
      border-top: 2px solid #eee;
      border-bottom: 2px solid #eee;
    }

    virtual-scroller>div {
      padding: 10px;
      box-sizing: border-box;
      border-bottom: 1px solid #eee;
    }
  </style>
</head>

<body>

  <label>
    Scroll to:
    <input id="index" type="number" placeholder="index" onchange="scrollToIndex(this.valueAsNumber, offset.valueAsNumber)">
    <input id="offset" type="number" placeholder="offset" onchange="scrollToIndex(index.valueAsNumber, this.valueAsNumber)">
  </label>
  <virtual-scroller id="scroller"></virtual-scroller>

  <script type="module">
    import '../virtual-scroller-element.js';

    const virtualScroller = document.getElementById('scroller');

    virtualScroller.updateElement = (element, index) =>
      element.textContent = `${index}) ${myContacts[index].longText}`;

    let myContacts = null;
    fetch('contacts/contacts.json').then((resp) => resp.json()).then((contacts) => {
      myContacts = contacts;
      virtualScroller.totalItems = myContacts.length;
    });

    window.scrollToIndex = function scrollToIndex(index, offset) {
      if (index >= 0 && index < myContacts.length) {
        offset = Number.isFinite(offset) ? offset : 0;
        virtualScroller.scrollTo(index, offset);
      }
    };
  </script>
</body>

</html>